<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="org.zerock.myapp.mapper.SocialMemberMapper">
	<insert id="kakaoSignup" parameterType="java.util.HashMap">
		
		<selectKey keyProperty="member_no" order="BEFORE"
			resultType="java.lang.Integer">
			SELECT social_member_seq.nextval FROM dual
		</selectKey>
		
		INSERT INTO social_member (MEMBER_NO, ID, EMAIL, SOCIAL_TYPE)
		VALUES (#{member_no, jdbcType=INTEGER}, #{id, jdbcType=VARCHAR}, #{email, jdbcType=VARCHAR}, 'KAKAO')
	</insert>

	<update id="kakaoSignupAddInfo">
		update social_member set
		address1 = #{address1},
		address2 = #{address2},
		address3 = #{address3},
		gender = #{gender},
		birth_year = #{birth_year} ,
		birth_month =#{birth_month} ,
		birth_day = #{birth_day}
	</update>


</mapper>